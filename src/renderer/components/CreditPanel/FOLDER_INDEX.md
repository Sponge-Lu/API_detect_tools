# CreditPanel 组件目录

## 目录说明

本目录包含 Linux Do Credit 积分面板组件，用于显示用户在 Linux Do Credit 平台的积分信息。

## 文件列表

| 文件 | 说明 |
|------|------|
| `CreditPanelCompact.tsx` | 积分面板组件，显示在表头区域，支持展开详情弹出面板 |
| `IncomeStatsCard.tsx` | 收入统计卡片组件，显示每日收入条形图 |
| `ExpenseStatsCard.tsx` | 支出统计卡片组件，显示每日支出条形图 |
| `TransactionListCard.tsx` | 交易记录卡片组件，显示交易列表 |
| `RechargeSection.tsx` | LDC 充值区域组件，提供充值金额输入、站点选择、所需积分计算 |
| `index.ts` | 组件导出文件 |
| `FOLDER_INDEX.md` | 本索引文件 |

## 组件功能

### CreditPanelCompact (积分面板组件)
- 显示在 Header 设置按钮左侧
- 紧凑显示核心积分数据（基准值、当前分、差值）
- 点击展开详情弹出面板
- 展开面板使用 fixed 定位和高 z-index，确保显示在 UI 最上层
- 展开面板包含完整积分信息和三栏布局（交易记录、收入统计、支出统计）
- 统计卡片高度自适应内容
- 点击外部自动关闭展开面板
- 支持登录/登出、刷新、自动刷新配置
- 刷新按钮会同时刷新积分、每日统计、交易记录
- LDC 充值功能（展开详情时显示）

### IncomeStatsCard (收入统计卡片)
- 紧凑布局，高度自适应内容
- 标题栏显示"收入统计"和总收入金额（LDC 格式）
- 显示每日收入水平条形图（绿色）
- 条形图布局：日期和数值在条形上方（日期靠左，数值靠右）
- 只显示最近5天数据
- 日期从新到旧排序（最新在上）
- 零值显示为灰色细线指示器
- 显示刷新按钮和更新时间

### ExpenseStatsCard (支出统计卡片)
- 紧凑布局，高度自适应内容
- 标题栏显示"支出统计"和总支出金额（LDC 格式，红色）
- 显示每日支出水平条形图（红色）
- 条形图布局：日期和数值在条形上方（日期靠左，数值靠右）
- 只显示最近5天数据
- 日期从新到旧排序（最新在上）
- 零值显示为灰色细线指示器
- 显示刷新按钮和更新时间

### TransactionListCard (交易记录卡片)
- 紧凑布局，高度自适应内容
- 显示交易总数（"活动 N" 格式）
- 显示交易列表（订单名称、金额、状态）
- 状态徽章（成功为绿色、失败为红色、待处理为黄色）
- "查看全部"链接在更新时间后面（蓝色文字，无图标，打开 credit.linux.do）
- 显示刷新按钮和更新时间

### RechargeSection (LDC 充值区域)
- 一行紧凑布局：标题 | 站点选择 | 金额输入 | 所需积分 | 充值按钮
- 站点选择下拉框（只显示支持 LDC 支付的站点）
- 充值金额输入框（整数输入，最小值1）
- 实时计算并显示所需 LDC 积分
- 余额不足警告
- 充值按钮（禁用状态逻辑）
- 点击充值后在浏览器中打开支付页面

## 依赖关系

- `useCredit` Hook - 积分数据和操作
- `toastStore` - Toast 通知
- `credit.ts` 类型定义 - 共享类型

## 相关需求

- Requirements 2.1, 2.5: 登录/登出
- Requirements 3.1-3.18: 积分面板显示
- Requirements 4.1, 4.3-4.5: 刷新功能
- Requirements 5.1, 5.3: 自动刷新配置
- Requirements 7.1-7.4: 错误处理
- Requirements 9.1-9.11: 每日统计数据
- Requirements 10.1-10.11: 交易记录列表
- Requirements 15.1-15.5: Credit 面板位置调整
- Requirements 18.1-18.15: LDC 充值功能
